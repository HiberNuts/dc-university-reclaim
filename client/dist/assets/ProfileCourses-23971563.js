import{r as n,u as v,j as e,L as j,e as N,m as g,t as w,p as b,f as y,h as C,F as S,i as P,C as k,k as E,S as I,o as A}from"./index-78c6fbf1.js";const R=({props:l,loggedInUserData:s,userData:m})=>{var h,x,i;const a=n.useRef(null),[t,f]=n.useState({chapterCompletionPercentage:0,moduleCompletionPercentage:0,overallCompletionPercentage:0,quizCompletionPercentage:0}),d=async()=>{const c=await C({courseId:l==null?void 0:l._id,userId:s==null?void 0:s._id,accessToken:s==null?void 0:s.accessToken});f(c)};n.useEffect(()=>{d()},[s,m]);const{scrollYProgress:o}=v({target:a,offset:["0 3","1 1"]});return e.jsx(j,{to:`/workplace/${N(l==null?void 0:l.title)}`,children:e.jsx(g.div,{ref:a,style:{scale:o,opacity:o,boxShadow:"0px 4px 20px 0px rgba(195, 200, 255, 0.30)"},className:"flex card-container font-helvetica-neue h-[600px] bg-white border-[3px] shadow flex-col justify-center align-middle w-[400px] rounded-[16px]",children:e.jsxs("div",{className:"image-section h-full flex flex-col justify-between  p-[20px]",children:[e.jsx("div",{className:"flex justify-center  align-middle items-center",children:e.jsx("img",{className:"w-[360px] h-[230px] rounded-[16px]",src:l==null?void 0:l.banner})}),e.jsxs("div",{className:"description-section  flex flex-col justify-center align-middle",children:[e.jsx("div",{className:"title-container h-[4rem] overflow-hidden",children:e.jsx("p",{className:"text-[2vh] text-overflow-ellipsis font-helvetica-neue-bold font-bold",children:l==null?void 0:l.title})}),e.jsx("p",{className:"text-[16px] text-slategray font-helvetica-neue-roman font-thin",children:((h=l==null?void 0:l.description)==null?void 0:h.slice(0,180))+(((x=l==null?void 0:l.description)==null?void 0:x.length)>180?"...":"")})]}),e.jsxs("div",{className:"description-section flex  flex-col w-full",children:[e.jsxs("div",{className:"flex ",children:[e.jsx("img",{class:"inline-block h-6 w-6 rounded-full ring-2 ring-white mt-1",src:"https://pbs.twimg.com/profile_images/1660782439340576768/9rIZjmMt_400x400.jpg",alt:""}),e.jsx("p",{className:"text-[18px] items-center text-center font-semibold ml-2",children:"Shardeum"})]}),e.jsx("div",{className:"flex justify-evenly align-middle w-full"})]}),e.jsxs("div",{className:"flex w-full  justify-evenly align-middle ",children:[e.jsxs("div",{className:"flex gap-2 ",children:[e.jsx("img",{className:"w-5 h-5 mt-1 ",src:w}),e.jsxs("span",{className:"font-helvetica-neue",children:[l==null?void 0:l.duration," hrs"]})]}),e.jsx("p",{children:"|"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("img",{className:"w-5 h-5 mt-1",src:b}),e.jsxs("span",{className:"font-helvetica-neue",children:[(i=l==null?void 0:l.usersEnrolled)==null?void 0:i.length," Students"]})]}),e.jsx("p",{children:"|"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("img",{className:"w-5 h-5 mt-1",src:y}),e.jsx("span",{className:"font-helvetica-neue",children:l==null?void 0:l.level})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:e.jsx("div",{className:"bg-gray-200 relative h-6 w-full rounded-2xl",children:e.jsxs("div",{style:{width:`${parseInt(t==null?void 0:t.overallCompletionPercentage)}%`},className:"bg-shardeumOrange h-full absolute top-0 left-0 flex items-center justify-center rounded-2xl text-sm font-semibold text-shardeumBlue",children:[e.jsx("span",{className:"ml-10",children:parseInt(t==null?void 0:t.overallCompletionPercentage)?parseInt(t==null?void 0:t.overallCompletionPercentage):0}),"%"]})})})]})})})};function _(){const[l,s]=n.useState([]),m=async()=>{const a=await E();s(a)};return n.useEffect(()=>{m()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between border-b-2 border-b-dimgray pb-4",children:[e.jsx("div",{children:e.jsx("p",{className:"font-helvetica-neue-bold text-[32px]",children:"Get Started With our Courses"})}),e.jsx("div",{className:"self-center",children:e.jsx("p",{className:"text-shardeumBlue   cursor-pointer hover:scale-105  text-[18px] font-bold ",children:e.jsxs(j,{to:"/courses",class:!0,children:["View More"," ",e.jsx(S,{className:"mt-1",icon:P})," "]})})})]}),e.jsx("div",{className:"flex flex-col w-full ",children:e.jsx("div",{className:"flex w-full justify-center flex-wrap gap-5 mb-20",children:l&&(l==null?void 0:l.map((a,t)=>{if(a.softDelete!=!0)return e.jsx(k,{props:a},t)}))})})]})}const L=({loggedInUserData:l,userData:s})=>{var x;const[m,a]=n.useState([]),[t,f]=n.useState(!1),[d,o]=n.useState([]),h=async()=>{var u;f(!0);let i=[];(u=s==null?void 0:s.enrolledCourses)==null||u.map(r=>{i.push(r.courseId)}),a(i);var c=await Promise.all(i.map(async r=>await A(r)));c=c.filter(r=>r!==void 0),o(c),f(!1)};return n.useEffect(()=>{h()},[s,l]),e.jsx("div",{children:t?e.jsx(I,{}):((x=s==null?void 0:s.enrolledCourses)==null?void 0:x.length)>0?e.jsxs("div",{className:"flex w-full mt-24 flex-wrap h-auto gap-5 ",children:[e.jsx("div",{className:"border-b-2 border-b-dimgray w-full flex pb-4 mb-10",children:e.jsx("p",{className:"font-helvetica-neue-bold mt-[-50px] text-[32px] items-center text-center  ",children:"Resume your course"})}),e.jsx("div",{className:"flex flex-wrap w-full gap-10 mb-10 justify-evenly",children:d==null?void 0:d.map((i,c)=>(i==null?void 0:i.softDelete)==!0?"":e.jsx(R,{userData:s,loggedInUserData:l,props:i},c))})]}):e.jsx("div",{className:"flex w-full h-auto gap-5 flex-col",children:e.jsx(_,{})})})};export{L as default};
