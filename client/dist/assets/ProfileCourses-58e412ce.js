import{r as d,c as N,j as e,L as w,w as y,a as P,x as C,S as p,y as S}from"./index-25d3d03b.js";const f=({props:s,loggedInUserData:t,userData:h})=>{const r=d.useRef(null),[m,o]=d.useState({chapterCompletionPercentage:0,moduleCompletionPercentage:0,overallCompletionPercentage:0,quizCompletionPercentage:0}),i=async()=>{const a=await C({courseId:s==null?void 0:s._id,userId:t==null?void 0:t._id,accessToken:t==null?void 0:t.accessToken});o(a)};d.useEffect(()=>{i()},[t,h]);const{scrollYProgress:x}=N({target:r,offset:["0 3","1 1"]});return e.jsx(w,{to:`/workplace/${y(s==null?void 0:s.title)}`,children:e.jsx(P.div,{ref:r,style:{scale:x,opacity:x,boxShadow:"0px 4px 20px 0px rgba(195, 200, 255, 0.30)"},className:"flex card-container font-helvetica-neue max-h-[600px] bg-white border-[3px] shadow flex-col justify-center align-middle max-w-[400px] rounded-[16px]",children:e.jsxs("div",{className:"image-section h-full flex flex-col justify-between  p-[15px]",children:[e.jsx("div",{className:"flex justify-center  align-middle items-center",children:e.jsx("img",{className:"w-[360px] h-[230px] rounded-[16px]",src:s==null?void 0:s.banner})}),e.jsx("div",{className:"description-section  flex flex-col justify-center align-middle",children:e.jsx("div",{className:"title-container h-[4rem] overflow-hidden",children:e.jsx("p",{className:"text-[24px] text-overflow-ellipsis font-helvetica-neue-bold font-bold",children:s==null?void 0:s.title})})})]})})})},T=({loggedInUserData:s,userData:t})=>{var j;const[h,r]=d.useState([]),[m,o]=d.useState(!1),[i,x]=d.useState([]),[a,v]=d.useState([]),b=async()=>{var u;o(!0);let l=[];(u=t==null?void 0:t.enrolledCourses)==null||u.map(n=>{l.push(n.courseId)}),r(l);var c=await Promise.all(l.map(async n=>await S(n)));c=c.filter(n=>n!==void 0);let g=c.map(n=>n.nftImage??"");console.log("NFTS----",g),v(g),x(c),console.log("--data---,pro",c),o(!1)};return d.useEffect(()=>{b()},[t,s]),e.jsxs("div",{children:[m?e.jsx(p,{}):a.length==0?e.jsx(e.Fragment,{}):e.jsxs("div",{children:[e.jsx("p",{className:"my-2 text-[24px] text-left leading-tight text-black text-overflow-ellipsis font-helvetica-neue-bold border-b-[1px] pb-3",children:"NFTs earned"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 my-10",children:a.map(l=>l!=""&&e.jsx("div",{className:"col-span-1 flex justify-center items-center bg-shardeumBlue px-2 rounded-[16px] min-h-[350px] hover:px-5 transition-width duration-1000",children:e.jsx("img",{src:l,className:"cursor-pointer"})}))})]}),m?e.jsx(p,{}):((j=t==null?void 0:t.enrolledCourses)==null?void 0:j.length)>0?t._id==s._id?e.jsxs("div",{className:"",children:[e.jsx("p",{className:"my-2 text-[24px] text-left leading-tight text-black text-overflow-ellipsis font-helvetica-neue-bold border-b-[1px] pb-3",children:"Resume your courses"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 w-full gap-5 mb-10",children:i==null?void 0:i.map((l,c)=>(l==null?void 0:l.softDelete)==!0?"":e.jsx(f,{userData:t,loggedInUserData:s,props:l},c))})]}):e.jsxs("div",{className:"",children:[e.jsx("p",{className:"my-2 text-[24px] text-left leading-tight text-black text-overflow-ellipsis font-helvetica-neue-bold border-b-[1px] pb-3",children:"Completed courses"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 w-full gap-5 my-10 ",children:i==null?void 0:i.map((l,c)=>(l==null?void 0:l.softDelete)==!0?"":e.jsx(f,{userData:t,loggedInUserData:s,props:l},c))})]}):t._id==s._id?e.jsx("div",{className:""}):e.jsxs("div",{className:"",children:[e.jsx("p",{className:"my-2 text-[24px] text-left leading-tight text-black text-overflow-ellipsis font-helvetica-neue-bold border-b-[1px] pb-3",children:"Completed courses"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 w-full gap-5 my-10 ",children:i==null?void 0:i.map((l,c)=>(l==null?void 0:l.softDelete)==!0?"":e.jsx(f,{userData:t,loggedInUserData:s,props:l},c))})]})]})};export{T as default};
