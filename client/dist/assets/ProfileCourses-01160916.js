import{r as a,u as g,j as e,L as v,e as N,m as w,t as b,p as y,f as C,h as S,F as P,i as k,C as E,k as I,S as A,o as R}from"./index-b7c718b1.js";const _=({props:l,loggedInUserData:s,userData:o})=>{var h,x,i;const n=a.useRef(null),[t,m]=a.useState({chapterCompletionPercentage:0,moduleCompletionPercentage:0,overallCompletionPercentage:0,quizCompletionPercentage:0}),d=async()=>{const c=await S({courseId:l==null?void 0:l._id,userId:s==null?void 0:s._id,accessToken:s==null?void 0:s.accessToken});console.log(c),m(c)};a.useEffect(()=>{d()},[s,o]);const{scrollYProgress:f}=g({target:n,offset:["0 3","1 1"]});return e.jsx(v,{to:`/workplace/${N(l==null?void 0:l.title)}`,children:e.jsx(w.div,{ref:n,style:{scale:f,opacity:f,boxShadow:"0px 4px 20px 0px rgba(195, 200, 255, 0.30)"},className:"flex card-container font-helvetica-neue h-[600px] bg-white border-[3px] shadow flex-col justify-center align-middle w-[400px] rounded-[16px]",children:e.jsxs("div",{className:"image-section h-full flex flex-col justify-between  p-[20px]",children:[e.jsx("div",{className:"flex justify-center  align-middle items-center",children:e.jsx("img",{className:"w-[360px] h-[230px] rounded-[16px]",src:l==null?void 0:l.banner})}),e.jsxs("div",{className:"description-section  flex flex-col justify-center align-middle",children:[e.jsx("div",{className:"title-container h-[4rem] overflow-hidden",children:e.jsx("p",{className:"text-[2vh] text-overflow-ellipsis font-helvetica-neue-bold font-bold",children:l==null?void 0:l.title})}),e.jsx("p",{className:"text-[16px] text-slategray font-helvetica-neue-roman font-thin",children:((h=l==null?void 0:l.description)==null?void 0:h.slice(0,180))+(((x=l==null?void 0:l.description)==null?void 0:x.length)>180?"...":"")})]}),e.jsxs("div",{className:"description-section flex  flex-col w-full",children:[e.jsxs("div",{className:"flex ",children:[e.jsx("img",{class:"inline-block h-6 w-6 rounded-full ring-2 ring-white mt-1",src:"https://pbs.twimg.com/profile_images/1660782439340576768/9rIZjmMt_400x400.jpg",alt:""}),e.jsx("p",{className:"text-[18px] items-center text-center font-semibold ml-2",children:"Shardeum"})]}),e.jsx("div",{className:"flex justify-evenly align-middle w-full"})]}),e.jsxs("div",{className:"flex w-full  justify-evenly align-middle ",children:[e.jsxs("div",{className:"flex gap-2 ",children:[e.jsx("img",{className:"w-5 h-5 mt-1 ",src:b}),e.jsxs("span",{className:"font-helvetica-neue",children:[l==null?void 0:l.duration," hrs"]})]}),e.jsx("p",{children:"|"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("img",{className:"w-5 h-5 mt-1",src:y}),e.jsxs("span",{className:"font-helvetica-neue",children:[(i=l==null?void 0:l.usersEnrolled)==null?void 0:i.length," Students"]})]}),e.jsx("p",{children:"|"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("img",{className:"w-5 h-5 mt-1",src:C}),e.jsx("span",{className:"font-helvetica-neue",children:l==null?void 0:l.level})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:e.jsx("div",{className:"bg-gray-200 relative h-6 w-full rounded-2xl",children:e.jsxs("div",{style:{width:`${parseInt(t==null?void 0:t.overallCompletionPercentage)}%`},className:"bg-shardeumOrange h-full absolute top-0 left-0 flex items-center justify-center rounded-2xl text-sm font-semibold text-shardeumBlue",children:[e.jsx("span",{className:"ml-10",children:parseInt(t==null?void 0:t.overallCompletionPercentage)?parseInt(t==null?void 0:t.overallCompletionPercentage):0}),"%"]})})})]})})})};function B(){const[l,s]=a.useState([]),o=async()=>{const n=await I();s(n)};return a.useEffect(()=>{o()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between border-b-2 border-b-dimgray pb-4",children:[e.jsx("div",{children:e.jsx("p",{className:"font-helvetica-neue-bold text-[32px]",children:"Get Started With our Courses"})}),e.jsx("div",{className:"self-center",children:e.jsx("p",{className:"text-shardeumBlue   cursor-pointer hover:scale-105  text-[18px] font-bold ",children:e.jsxs(v,{to:"/courses",class:!0,children:["View More"," ",e.jsx(P,{className:"mt-1",icon:k})," "]})})})]}),e.jsx("div",{className:"flex flex-col w-full ",children:e.jsx("div",{className:"flex w-full justify-center flex-wrap gap-5 mb-20",children:l&&(l==null?void 0:l.map((n,t)=>{if(n.softDelete!=!0)return e.jsx(E,{props:n},t)}))})})]})}const L=({loggedInUserData:l,userData:s})=>{var x;const[o,n]=a.useState([]),[t,m]=a.useState(!1),[d,f]=a.useState([]),h=async()=>{var u;m(!0);let i=[];(u=s==null?void 0:s.enrolledCourses)==null||u.map(r=>{i.push(r.courseId)}),console.log(i),n(i);var c=await Promise.all(i.map(async r=>{const j=await R(r);return console.log(j),j}));c=c.filter(r=>r!==void 0),f(c),m(!1)};return a.useEffect(()=>{h()},[s,l]),e.jsx("div",{children:t?e.jsx(A,{}):((x=s==null?void 0:s.enrolledCourses)==null?void 0:x.length)>0?e.jsxs("div",{className:"flex w-full mt-24 flex-wrap h-auto gap-5 ",children:[e.jsx("div",{className:"border-b-2 border-b-dimgray w-full flex pb-4 mb-10",children:e.jsx("p",{className:"font-helvetica-neue-bold mt-[-50px] text-[32px] items-center text-center  ",children:"Resume your course"})}),e.jsx("div",{className:"flex flex-wrap w-full gap-10 mb-10 justify-evenly",children:d==null?void 0:d.map((i,c)=>(i==null?void 0:i.softDelete)==!0?"":e.jsx(_,{userData:s,loggedInUserData:l,props:i},c))})]}):e.jsx("div",{className:"flex w-full h-auto gap-5 flex-col",children:e.jsx(B,{})})})};export{L as default};
